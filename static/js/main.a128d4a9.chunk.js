(this.webpackJsonpdebtors=this.webpackJsonpdebtors||[]).push([[0],{14:function(e,t,a){e.exports={mainHeader:"Navigation_mainHeader__3gJYo",active:"Navigation_active__2yG82"}},16:function(e,t,a){e.exports={Input:"Input_Input__2uPkE",Label:"Input_Label__3a1t6",InputElement:"Input_InputElement__3K-4l",Invalid:"Input_Invalid__gkxcw"}},18:function(e,t,a){e.exports={Button:"Button_Button__1hZO3",Success:"Button_Success__3Qnl4",Danger:"Button_Danger__2d5Vy",Disabled:"Button_Disabled__3R-iw"}},20:function(e,t,a){e.exports={debtorsList:"Debtors_debtorsList__qhHiJ",item:"Debtors_item__27FPl"}},23:function(e,t,a){e.exports={DebtorData:"CreateDebtors_DebtorData__2ofvD",Header:"CreateDebtors_Header__1U6Fa"}},25:function(e,t,a){e.exports={FormData:"CreateBreakdown_FormData__1FBXV",Header:"CreateBreakdown_Header__1hJF3"}},33:function(e,t,a){e.exports=a(47)},38:function(e,t,a){},39:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(28),o=a.n(r),c=a(6),u=(a(38),a(2)),i=a(4),d=a(9),m={},s=[],b={},v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(n.useState)(m)[1],a=function(e,t){var a=b[e](m,t);m=Object(u.a)(Object(u.a)({},m),a);var n,l=Object(d.a)(s);try{for(l.s();!(n=l.n()).done;){(0,n.value)(m)}}catch(r){l.e(r)}finally{l.f()}};return Object(n.useEffect)((function(){return e&&s.push(t),function(){e&&(s=s.filter((function(e){return e!==t})))}}),[t,e]),[m,a]},p=function(e,t,a){var n=Object(i.a)(e.debtors),l=e.debtors.findIndex((function(e){return e.id===t.debtorId})),r=Object(i.a)(n[l].breakdown),o=r.findIndex((function(e){return e.id===t.breakdownId}));if(!r[o].calculated){var c,d="paid"===a?e.debtors[l].amount-t.amount:Number(e.debtors[l].amount)+t.amount;return d<0||0===d?(d=0,c=!0):c=!1,r[o]=Object(u.a)(Object(u.a)({},e.debtors[l].breakdown[o]),{},{calculated:!0}),n[l]=Object(u.a)(Object(u.a)({},e.debtors[l]),{},{breakdown:r,amount:d,isDebtFree:c}),{debtors:n}}return{debtors:e.debtors}},f=function(){var e,t;e={PAID:function(e,t){return p(e,t,"paid")},COLLECTED:function(e,t){return p(e,t,"collected")},NEWDEBTOR:function(e,t){return function(e,t){var a=new Date;return t.isDebtFree=!1,t.id="".concat(Math.random()),t.amount&&t.amount>0?t.breakdown=[{id:"p1",amount:t.amount,calculated:!0,type:"previouslyOwed",date:"".concat(a.getDate(),"/").concat(a.getMonth()+1,"/").concat(a.getFullYear())}]:(t.amount=0,t.breakdown=[],t.isDebtFree=!0),{debtors:[].concat(Object(i.a)(e.debtors),[t])}}(e,t)},NEWBREAKDOWN:function(e,t){return function(e,t){var a=new Date,n=Object(i.a)(e.debtors),l=e.debtors.findIndex((function(e){return e.id===t.debtorId}));t.breakdownData.calculated=!1,t.breakdownData.date="".concat(a.getDate(),"/").concat(a.getMonth()+1,"/").concat(a.getFullYear());var r=[].concat(Object(i.a)(n[l].breakdown),[t.breakdownData]);return n[l]=Object(u.a)(Object(u.a)({},e.debtors[l]),{},{breakdown:r,isDebtFree:!1}),{debtors:n}}(e,t)}},(t={debtors:[]})&&(m=Object(u.a)(Object(u.a)({},m),t)),b=Object(u.a)(Object(u.a)({},b),e)},E=a(11),h=(a(39),function(e){return l.a.createElement("div",{className:"card",style:e.style},e.children)}),g=function(e){return l.a.createElement(h,null,l.a.createElement("h2",null,e.debtor.name),e.debtor.isDebtFree?l.a.createElement("h3",null,"Isn't Owing"):l.a.createElement("h3",null,"Current amount owed : ",e.debtor.amount," Naira"))},y=a(20),O=a.n(y),j=function(){var e=v(!1)[0].debtors;return 0===e.length?l.a.createElement("h2",{style:{textAlign:"center"}},"No One is Currently Owing You Money..... Lol"):l.a.createElement("div",{className:O.a.debtorsList},e.map((function(e){return l.a.createElement("div",{key:e.id,className:O.a.item},l.a.createElement(c.b,{to:"/debtors/".concat(e.id)},l.a.createElement(g,{debtor:e})))})))},D=a(10),w=function(e,t){var a=!0;return t&&t.required&&(a=""!==e.trim()&&a),a},_=a(16),C=a.n(_),N=function(e){var t=null,a=[C.a.InputElement];switch(e.invalid&&e.touched&&a.push(C.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=l.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elementConfig.options.map((function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)})));break;default:t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return l.a.createElement("div",{className:C.a.Input},l.a.createElement("label",{className:C.a.Label},e.label),t)},k=a(23),I=a.n(k),x=a(18),F=a.n(x),T=function(e){return l.a.createElement("button",{className:[F.a.Button,F.a[e.btnType],e.className,e.disabled?F.a.Disabled:""].join(" "),onClick:e.onClick,style:e.style,disabled:e.disabled},e.children)},A=function(){var e=v()[1],t=Object(E.f)(),a=Object(n.useState)([{label:"Name",elementType:"input",elementConfig:{type:"text",placeholder:"Debtor Name"},value:"",validation:{required:!0},valid:!1,touched:!1},{label:"Balance",elementType:"input",elementConfig:{type:"number",placeholder:"Debtor's balance brought forward"},value:"",valid:!0}]),r=Object(D.a)(a,2),o=r[0],c=r[1],m=Object(n.useState)(!1),s=Object(D.a)(m,2),b=s[0],p=s[1],f=l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n,l={},r=Object(d.a)(o);try{for(r.s();!(n=r.n()).done;){var c=n.value;l["Balance"===c.label?"amount":"name"]=c.value}}catch(u){r.e(u)}finally{r.f()}e("NEWDEBTOR",l),t.push("/")}},o.map((function(e){return l.a.createElement(N,{key:e.label,label:e.label,elementType:e.elementType,elementConfig:e.elementConfig,value:e.value,invalid:!e.valid,touched:e.touched,changed:function(t){return function(e,t){var a=Object(i.a)(o),n=a.findIndex((function(e){return e.label===t})),l=Object(u.a)({},a[n]);l.value=e.target.value,l.valid=w(l.value,l.validation),l.touched=!0,a[n]=l;var r=!0;for(var d in a)r=a[d].valid&&r;p(r),c(a)}(t,e.label)}})})),l.a.createElement(T,{btnType:"Success",disabled:!b},"ADD DEBTOR"));return l.a.createElement("div",{className:I.a.DebtorData},l.a.createElement("h2",{className:I.a.Header},"ENTER DEBTOR'S INFO"),f)},B=a(31),P=a(32),S=function(e){var t=e.products;return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",null,t.map((function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("p",null,"Name of product collected: ",e.name),l.a.createElement("p",null,"Quantity collected: ",e.quantity),l.a.createElement("p",null,"Price of one: ",e.priceOfOne),l.a.createElement("p",null,"Total price: ",l.a.createElement("strong",null,e.priceOfOne*e.quantity)))}))))},H=function(e){var t,a=e.breakdown;return"paid"===a.type?t=l.a.createElement(h,null,l.a.createElement("p",null,"Made a Payment"),l.a.createElement("strong",null,a.amount," Naira"),l.a.createElement("p",null,"Date payment was made: ",a.date)):"collected"===a.type?t=l.a.createElement(h,null,l.a.createElement("p",null,"Collected the following goods on credit"),l.a.createElement(S,{products:a.products}),l.a.createElement("p",null,"Total amount of goods collected :"," ",l.a.createElement("strong",null,a.amount," Naira")),l.a.createElement("p",null,"Date Collected: ",a.date)):"previouslyOwed"===a.type&&(t=l.a.createElement(h,null,l.a.createElement("p",null,"Amount Previously Owed"),l.a.createElement("p",null,"Total amount : ",l.a.createElement("strong",null,a.amount," Naira")),l.a.createElement("p",null,"Date Collected: ",a.date))),t},L=function(){var e,t,a=v()[0].debtors,n=Object(E.g)().debtorId,r=Object(d.a)(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.id===n){e=o;break}}}catch(u){r.e(u)}finally{r.f()}return e?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h2",{style:{textAlign:"center"}},e.isDebtFree?"".concat(e.name," isn't Owing You any Money"):"Total Amount Owed by ".concat(e.name," is ").concat(e.amount," Naira"),l.a.createElement(c.b,{to:"/debtors/".concat(n,"/new")},l.a.createElement(B.a,{icon:P.a,transform:"grow-10 up-10",style:{float:"right",margin:"20px 20px",color:"black"}})))),e.breakdown?e.breakdown.map((function(t){return l.a.createElement(H,{key:t.id,breakdown:t,debtorId:e.id})})):l.a.createElement("h3",{style:{textAlign:"center"}},"No Financial Details to Output just Yet"),"}"):l.a.createElement("h2",{style:{textAlign:"center"}},"Error 404: User not Found")},q=function(e){var t=e.name,a=e.show,n=e.finalProductsForm,r=e.setFinalProductsForm,o=e.setFormIsValid;return l.a.createElement(l.a.Fragment,null,n.map((function(e){var t=e[0].id;return e.map((function(e){return e.id?null:a(e,r,n,t,e.label)}))})),l.a.createElement(T,{style:{fontSize:"15px",float:"right"},btnType:"Success",onClick:function(){return function(){var e=Object(i.a)(n),t=Object(i.a)(e[0]);for(var a in t)if(0!=a){var l=Object(u.a)(Object(u.a)({},t[a]),{},{value:"",validation:{required:!0},valid:!1,touched:!1});t[a]=l}e.push(t);var c=Object(i.a)(e[e.length-1]);c[0]={id:e.length},e[e.length-1]=c,o(!1),r(e)}()}},t," collected more products?"))},M=a(25),R=a.n(M),W=function(){var e,t,a=v(),r=Object(D.a)(a,2),o=r[0],c=r[1],m=Object(E.g)().debtorId,s=Object(d.a)(o.debtors);try{for(s.s();!(t=s.n()).done;){var b=t.value;if(b.id===m){e=b;break}}}catch(Y){s.e(Y)}finally{s.f()}var p,f=Object(E.f)();p=e.isDebtFree?[{value:"collected",displayValue:"".concat(e?e.name:"should not get here"," Collected Goods on Credit")}]:[{value:"paid",displayValue:"".concat(e?e.name:"should not get here"," Paid Money To You")},{value:"collected",displayValue:"".concat(e?e.name:"should not get here"," Collected Goods on Credit")}];var h=Object(n.useState)({label:"Type",elementType:"select",elementConfig:{options:p},value:"collected"}),g=Object(D.a)(h,2),y=g[0],O=g[1],j=Object(n.useState)({label:"How Much?",elementType:"input",elementConfig:{type:"number",placeholder:"How Much did ".concat(e?e.name:"should not get here"," Pay?")},value:"",validation:{required:!0},valid:!1,touched:!1}),_=Object(D.a)(j,2),C=_[0],k=_[1],I=Object(n.useState)([[{id:1},{label:"Name of Product",elementType:"input",elementConfig:{type:"text",placeholder:"What Product did ".concat(e?e.name:"should not get here"," Collect?")},value:"",validation:{required:!0},valid:!1,touched:!1},{label:"Quantity",elementType:"input",elementConfig:{type:"number",placeholder:"How many of said Product did ".concat(e?e.name:"should not get here"," Collect?")},value:"",validation:{required:!0},valid:!1,touched:!1},{label:"Cost of One Unit of the Above Product",elementType:"input",elementConfig:{type:"number",placeholder:"Price per Unit"},value:"",validation:{required:!0},valid:!1,touched:!1}]]),x=Object(D.a)(I,2),F=x[0],A=x[1],B=Object(n.useState)(!1),P=Object(D.a)(B,2),S=P[0],H=P[1];if(!e)return l.a.createElement("h2",{style:{textAlign:"center"}},"Error 404: User not Found");var L=function(e,t,a,n,r){return l.a.createElement(N,{key:e.label,label:e.label,elementType:e.elementType,elementConfig:e.elementConfig,invalid:!e.valid,touched:e.touched,value:e.value,changed:function(l){return function(e,t,a,n,l){if(n){var r,o=Object(i.a)(t),c=Object(i.a)(o[n-1]);for(var d in c)0!=d&&c[d].label===l&&(r=Object(u.a)(Object(u.a)({},c[d]),{},{value:e.target.value,touched:!0,valid:w(e.target.value,c[d].validation)}),c[d]=r);o[n-1]=c;var m=!0;for(var s in o)for(var b in o[s])o[s][b].id||(m=o[s][b].valid&&m);H(m),a(o)}else{var v=Object(u.a)(Object(u.a)({},t),{},{value:e.target.value,touched:!0,valid:w(e.target.value,t.validation)});H(t!==y&&v.valid),a(v)}}(l,a||e,t,n,r)}})},M=L(y,O),W=L(C,k),V=l.a.createElement(q,{name:e.name,show:L,setFormIsValid:H,finalProductsForm:F,setFinalProductsForm:A});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:R.a.FormData},l.a.createElement("h2",{className:R.a.Header},"ENTER NEW TRANSACTION DETAILS"),M,"paid"===y.value?W:V),l.a.createElement("div",{style:{textAlign:"center",width:"30%",margin:"0 auto"}},l.a.createElement(T,{style:{fontSize:"30px",paddingLeft:"30px"},onClick:function(e){e.preventDefault();var t={};if(t.id="".concat(Math.random()),"paid"===y.value)t.type="paid",t.amount=C.value;else{for(var a in t.type="collected",t.products=[],F){var n={};for(var l in F[a])0!=l?"Name of Product"===F[a][l].label?n.name=F[a][l].value:"Quantity"===F[a][l].label?n.quantity=F[a][l].value:"Cost of One Unit of the Above Product"===F[a][l].label&&(n.priceOfOne=F[a][l].value):n.id=F[a][l].id;t.products.push(n)}var r,o=0,u=Object(d.a)(t.products);try{for(u.s();!(r=u.n()).done;){var i=r.value;o+=i.quantity*i.priceOfOne}}catch(Y){u.e(Y)}finally{u.f()}t.amount=o}c("NEWBREAKDOWN",{breakdownData:t,debtorId:m}),"paid"===t.type?c("PAID",{amount:t.amount,debtorId:m,breakdownId:t.id}):c("COLLECTED",{amount:t.amount,debtorId:m,breakdownId:t.id}),f.push("/debtors/".concat(m))},btnType:"Success",disabled:!S},"Submit")))},V=a(14),Y=a.n(V),U=function(){return l.a.createElement("header",{className:Y.a.mainHeader},l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(c.b,{to:"/",activeClassName:Y.a.active,exact:!0},l.a.createElement("div",{className:Y.a.link},"Debtors"))),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/create",activeClassName:Y.a.active,exact:!0},l.a.createElement("div",{className:Y.a.link},"Add Debtors"))))))},J=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,null),l.a.createElement("main",null,l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/debtors/:debtorId/new",exact:!0,component:W}),l.a.createElement(E.a,{path:"/debtors/:debtorId",exact:!0,component:L}),l.a.createElement(E.a,{path:"/create",exact:!0,component:A}),l.a.createElement(E.a,{path:"/",exact:!0,component:j}),l.a.createElement(E.a,{render:function(){return l.a.createElement("h2",{style:{textAlign:"center"}},"Error 404: page not found")}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f();var Q=l.a.createElement(c.a,{basename:"/debtors"},l.a.createElement(J,null));o.a.render(l.a.createElement(l.a.StrictMode,null,Q),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.a128d4a9.chunk.js.map